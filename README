= Scoped Admin

This is a simple add-on that scopes users, snippets and layouts to sites. There's very little to it but it requires spanner's fork of multi_site. That version includes a routine to apply site scope at the ActiveRecord level, effectively making invisible anything that is out of scope. All that remains is to provide a few admin functions for those users who can jump from one site to another.

###Installation

Scoped admin requires the spanner fork of multi_site, but apart from that it declares its dependencies. At the moment Ray doesn't know about this extension so you probably want to do something like this:

  rake ray:extension:install name="multi-site" hub="spanner"
  git submodule add git://github.com/spanner/radiant-scoped-admin-extension.git vendor/extensions/scoped_admin
  rake radiant:extensions:scoped_admin:migrate

If you've got a lot of extensions to install, it's a good idea to install everything else first, do the migrations, make sure it's working and then install scoped_admin last. It will probably cause tests to fail in other extensions, for example, by making their objects invisible in the database.

###Next

Everything works now, as far as I know, but the low-level scoping means some awkwardness when you move between sites. An administrator can move a user from one site to another with the dropdown on the edit-user page, for example, but the effect will just be to make that user disappear until you jump to the destination site to see that she arrived. That needs to be improved, or at least better reported.

I would also like users to have_and_belong_to_many sites, but that's going to take a bit more administration and I'll probably need to introduce the concept of a master site for each installation where you can set site and user parameters. That's under development, as radiant-host-extension, and will probably happen separately to this simple demonstration.

###See also 

  http://github.com/spanner/radiant-multi-site-extension
  http://github.com/spanner/radiant-paperclipped_multisite-extension

###Author & Copyright

William Ross, for spanner. will at spanner.org
Copyright 2009 spanner ltd
released under the same terms as Rails and/or Radiant
